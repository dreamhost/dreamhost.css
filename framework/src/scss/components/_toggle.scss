/*

Toggle Component
Allows users to toggle between two states.

Usage:
<div class="dh-toggle">
    <input class="dh-toggle__input" type="checkbox" id="toggle" />
    <label for="toggle" class="dh-toggle__label">
        <span class="dh-toggle__visible"></span>
        <span class="dh-toggle__description">
            <span class="dh-toggle__checked">On</span>
            <span class="dh-toggle__unchecked">Off</span>
        </span>
    </label>
</div>

*/

.dh-toggle__input {
	position: absolute;
	margin-left: -9999px;
	visibility: hidden;
}

.dh-toggle__label {
	display: block;
	line-height: 0px;
}

.dh-toggle__description {
	position: relative;
	display: inline-block;
	top: -8px;
	padding: 0 .5em 0 0;
	transition: all .2s ease-in-out;
}

.dh-toggle__label .dh-toggle__visible {
	display: inline-block;
	position: relative;
	outline: none;
	user-select: none;
}

.dh-toggle__input + .dh-toggle__label .dh-toggle__visible {
	padding: 2px;
	width: 60px;
	height: 30px;
	background-color: $c-g500;
	border-radius: 60px;
	transition: background 0.4s;

	&:before,
	&:after {
		display: block;
		position: absolute;
		content: "";
	}

	&:before {
		top: 2px;
		left: 2px;
		bottom: 2px;
		right: 2px;
		background-color: $c-g500;
		border-radius: 60px;
		transition: background 0.4s;
	}

	&:after {
		position: absolute;
		top: 5px;
		left: 4.5px;
		bottom: 3.5px;
		width: 20px;
		height: 20px;
		background-color: $c-w100;
		border-radius: 22px;
		transition: margin 0.2s, background 0.4s;
	}
}

// Checked state
.dh-toggle__input:checked + .dh-toggle__label {
	color: $c-black;

	.dh-toggle__visible {
		background-color: $c-b300;

		&:before {
			background-color: $c-b300;
		}

		&:after {
			margin-left: 30px;
		}
	}
}

.dh-toggle__input + .dh-toggle__label .dh-toggle__description .dh-toggle__unchecked,
.dh-toggle__input:checked + .dh-toggle__label .dh-toggle__description .dh-toggle__checked {
	display: inline-block;
}

.dh-toggle__input + .dh-toggle__label .dh-toggle__description .dh-toggle__checked,
.dh-toggle__input:checked + .dh-toggle__label .dh-toggle__description .dh-toggle__unchecked {
	display: none;
}

// Disabled state
.dh-toggle__input:disabled {
	& + .dh-toggle__label {
		cursor: not-allowed;
	}

	& + .dh-toggle__label .dh-toggle__visible,
	& + .dh-toggle__label .dh-toggle__visible:before {
		background-color: $c-g300;
	}

	& + .dh-toggle__label .dh-toggle__visible:after,
	& + .dh-toggle__label .dh-toggle__visible:hover:after {
		top: 5px;
		bottom: 3.5px;
		width: 20px;
		height: 20px;
		background-color: $c-g100;
	}

	// Hover state
	&:hover,
	&:hover:before {
		background-color: $c-g100;
	}
}

.dh-toggle__input:disabled + .dh-toggle__label .dh-toggle__description {
	color: $c-g400;
}

// Hover states
.dh-toggle__input:not([disabled]):hover {
	.dh-toggle__description {
		color: $c-black;
	}

	& + .dh-toggle__label {
		cursor: pointer;
	}

	& + .dh-toggle__label .dh-toggle__visible,
	& + .dh-toggle__label .dh-toggle__visible:before {
		background-color: $c-black;
	}

	&:checked + .dh-toggle__label .dh-toggle__visible,
	&:checked + .dh-toggle__label .dh-toggle__visible:before {
		background-color: darken($c-b100, 50%);
	}
}
