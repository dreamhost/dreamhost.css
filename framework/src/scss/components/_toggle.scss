/*

Toggle Component
Allows users to toggle between two states.

Usage:
<div class="dh-toggle">
    <input class="dh-toggle__input" type="checkbox" id="toggle" />
    <label for="toggle" class="dh-toggle__label">
        <span class="dh-toggle__visible"></span>
        <span class="dh-toggle__description">
            <span class="dh-toggle__checked">On</span>
            <span class="dh-toggle__unchecked">Off</span>
        </span>
    </label>
</div>

*/

.dh-toggle__input {
	position: absolute;
	margin-left: -9999px;
	visibility: hidden;
}

.dh-toggle__description {
	position: relative;
	top: -8px;
	padding: 0 0 0 .5em;
	cursor: pointer;
}

.dh-toggle__label .dh-toggle__visible {
	display: inline-block;
	position: relative;
	cursor: pointer;
	outline: none;
	user-select: none;
}

.dh-toggle__input + .dh-toggle__label .dh-toggle__visible {
	padding: 2px;
	width: 60px;
	height: 30px;
	background-color: $black;
	border-radius: 60px;
	transition: background 0.4s;

	&:before,
	&:after {
		display: block;
		position: absolute;
		content: "";
	}

	&:before {
		top: 2px;
		left: 2px;
		bottom: 2px;
		right: 2px;
		background-color: $black;
		border-radius: 60px;
		transition: background 0.4s;
	}

	&:after {
		position: absolute;
		top: 5px;
		left: 4.5px;
		bottom: 3.5px;
		width: 20px;
		height: 20px;
		background-color: $white;
		border-radius: 22px;
		transition: margin 0.2s, background 0.4s;
	}

	// Hover state
	&:hover:after {
		width: 22px;
		height: 22px;
		top: 4px;
		bottom: 4px;
	}
}

// Checked state
.dh-toggle__input:checked + .dh-toggle__label .dh-toggle__visible {
	background-color: $blue;

	&:before {
		background-color: $blue;
	}

	&:after {
		margin-left: 30px;
	}
}

.dh-toggle__input + .dh-toggle__label .dh-toggle__description .dh-toggle__unchecked,
.dh-toggle__input:checked + .dh-toggle__label .dh-toggle__description .dh-toggle__checked {
	display: inline-block;
}

.dh-toggle__input + .dh-toggle__label .dh-toggle__description .dh-toggle__checked,
.dh-toggle__input:checked + .dh-toggle__label .dh-toggle__description .dh-toggle__unchecked {
	display: none;
}

// Disabled state
.dh-toggle__input:disabled {
	& + .dh-toggle__label .dh-toggle__visible,
	& + .dh-toggle__label .dh-toggle__visible:before {
		background-color: darken($grey, 15%);
		cursor: not-allowed;
	}

	& + .dh-toggle__label .dh-toggle__visible:after,
	& + .dh-toggle__label .dh-toggle__visible:hover:after {
		cursor: not-allowed;
		top: 5px;
		bottom: 3.5px;
		width: 20px;
		height: 20px;
		background-color: darken($white, 3%);
	}
}

.dh-toggle__input:disabled + .dh-toggle__label .dh-toggle__description {
	color: darken($grey, 20%);
	cursor: not-allowed;
}
