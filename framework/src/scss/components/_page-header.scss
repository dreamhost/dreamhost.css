/*

Page Header Component

	The page header is the bar at the top of every DreamHost application
	that contains the logo and navigation

	Basic guidelines:
	- Logo:
		- For internal sites (employees & customers), the moon symbol is enough
		- For external sites (non-customers), use the full DreamHost logo
	- Colors:
		- Default state is dark blue/black
		- There is `.page-header--overlay` that makes the bar transparent and overlap
			any other content on the page. E.g. overlapping a nice big marketing photo
	- Page header content can vary. Use `.fluid-row` classes to space content.
	- `.page-header__nav` should contain the primary navigation
	- `.page-header__subnav` is for all the secondary links we may need to provide
	- Both nav and subnav supports lists within a `.popover` as a dropdown
	- The header was built around the idea of a single breakpoint. Below that breakpoint,
		the header will show a hamburger menu link with the header taking over the screen
		when shown. Larger than that breakpoint will display the header inline.
	- There are some built-in responsive classes also but they will be inaccurate for most
		instances of the header. For specific breakpoints, you should use
		the `page-header--responsive()` mixin in the app specific CSS


	Usage:
	<div class="page-header (page-header--responsive-[s/m/l])">
		<div class="page-header__container fluid-row">
			<a class="page-header__logo fluid-row__item" href="//www.dreamhost.com"><img src="https://www.dreamhost.com/assets/images/logo.dreamhost.white.svg" width="157" height="23"></a>
			<ul class="page-header__nav page-header__only-show-large fluid-row__item fluid-row__item--primary">
				<li><a class="page-header__nav-link is-active" href="#">Link</a></li>
			</ul>
			<ul class="page-header__subnav page-header__only-show-small fluid-row__item fluid-row__item--primary t-right">
				<li><button class="page-header__subnav-link js-toggle-mobile-menu">
					<svg class="icon icon-hamburger" viewBox="0 0 24 18">
						<path d="M0 5.9L0 7.1C0 7.1 0 7.1 0 7.1L24 7.1C24 7.1 24 7.1 24 7.1L24 5.9C24 5.9 24 5.9 24 5.9L0 5.9C0 5.9 0 5.9 0 5.9ZM0 0.9L0 2.1C0 2.1 0 2.1 0 2.1L24 2.1C24 2.1 24 2.1 24 2.1L24 0.9C24 0.9 24 0.9 24 0.9L0 0.9C0 0.9 0 0.9 0 0.9ZM0 15.9L0 17.1C0 17.1 0 17.1 0 17.1L24 17.1C24 17.1 24 17.1 24 17.1L24 15.9C24 15.9 24 15.9 24 15.9L0 15.9C0 15.9 0 15.9 0 15.9ZM0 12.2C0 12.2 24 12.2 24 12.2L24 10.9C24 10.9 0 10.9 0 10.9L0 12.2Z"></path>
					</svg><!-- remove whitespace
					-->Menu
				</button></li>
			</ul>
		</div>
	</div>

*/

.page-header {
	@extend .p-s;
	@extend .m-bottom;

	@extend .bg-black;
	@extend .t-white;
}

.page-header--overlay {
	@extend .bg-transparent;
	@extend .l-pos-absolute;
	@extend .w-100;
	@extend .z-3;
}

.page-header__container {
	@include clearfix;
	@extend .fluid-row;
	@extend .w-100;

	> * {
		@extend .fluid-row__item;
	}
}

.page-header__nav,
.page-header__mobile-button {
	@extend .fluid-row__item--primary;
}

.page-header__logo {
	@extend .p-right-m;

	img {
		@extend .m-0;
		@extend .u-vertical-align-text-bottom;
	}
}

.page-header__nav {
	@extend .list;
	@extend .list--inline;
}

.page-header__nav-link {
	@extend .t-decoration-none;
	@extend .t-bold;
	@extend .t-light-grey;
	@extend .t-s;
	@extend .l-inline-block;

	&:hover, &.is-open {
		@extend .t-light-blue;
	}
}

.page-header__nav-link.is-active,
.page-header__nav-link--active {
	@extend .t-white;
	@extend .border-bottom-1;
	@extend .border-blue;
	@extend .border-solid;

	&:hover {
		@extend .t-white;
	}
}

.page-header__subnav {
	@extend .list;
	@extend .list--inline;
	@extend .p-left-m;
}

.page-header__subnav-link {
	@extend .t-decoration-none;
	@extend .t-white;
	@extend .t-s;
	@extend .l-inline-block;

	.icon {
		opacity: .3;
	}

	&:hover, &.is-open {
		@extend .t-light-blue;

		.icon {
			opacity: 1;
		}
	}
}

button.page-header__subnav-link {
	@extend .bg-transparent;
	@extend .border-none;
	cursor: pointer;
}

.page-header.mobile-is-open {
	@extend .bg-black;
	min-height: 100vh;
	@extend .m-bottom-0;

	// Hide all other page elements other than nav
	& + * {
		@extend .l-none;
	}

	.page-header__container {
		@extend .l-block;

		> * {
			@extend .l-block;
			@extend .m-top-0;
			@extend .m-x-auto;
			margin-bottom: 3em !important;
			@extend .p-0;
			@extend .t-center;
			@extend .w-100;

			> li {
				@extend .l-block;
				margin: 0 0 1.5rem !important;
			}
		}
	}

	.page-header__subnav {
		@extend .p-0;
	}

	.popover {
		@extend .l-pos-static;
		@extend .m-0;
		transform: translateX(0) translateY(-5px);
	}

	.popover.is-open {
		@extend .m-y-s;
		@extend .m-x-auto;
		transform: none !important;
	}

	.page-header__mobile-button button {
		@extend .l-pos-absolute;
		top: $s-s;
		right: $s-s;
	}
}

// Breakpoint Mixin!
@mixin page-header--responsive($bp) {
	@media (max-width: $bp - 1px) {
		.page-header__only-show-small {/* let stay default */ }
		.page-header__only-show-large { display: none !important; }
	}
	@media (min-width: $bp) {
		.page-header__only-show-small { display: none !important; }
		.page-header__only-show-large { /* let stay default */ }
	}
}

// Predefined breakpoints!
.page-header--responsive-s { @include page-header--responsive(600px) }
.page-header--responsive-m { @include page-header--responsive(900px) }
.page-header--responsive-l { @include page-header--responsive(1400px) }

// Custom breakpoints (write this within an app)
// .page-header { @include page-header--responsive(756px) }
