/*

	Page Header

	The page header consists of a logo, a main navigation, and a secondary navigation.

	Currently set up with a sass grid but maybe it should be some sort of table or flexbox thing.

*/

.page-header {
	@extend .p-s;
	@extend .m-bottom;

	@extend .bg-black;
	@extend .t-white;
}

.page-header--overlay {
	@extend .bg-transparent;
	@extend .l-pos-absolute;
	@extend .w-100;
	z-index: 100;
}

.page-header__container {
	@include clearfix;
	@extend .w-100;
}

.page-header__logo {
	@extend .p-right-m;

	img {
		@extend .m-0;
		@extend .u-vertical-align-text-bottom;
	}
}

.page-header__nav {
	@extend .list;
	@extend .list--inline;
}

.page-header__nav-link {
	@extend .t-decoration-none;
	@extend .t-bold;
	@extend .t-light-grey;
	@extend .t-s;
	@extend .l-inline-block;

	&:hover {
		@extend .t-light-blue;
	}
}

.page-header__nav-link.is-active,
.page-header__nav-link--active {
	@extend .t-white;
	@extend .border-bottom-2;
	@extend .border-blue;
	@extend .border-solid;

	&:hover {
		@extend .t-white;
	}
}

.page-header__subnav {
	@extend .list;
	@extend .list--inline;
	@extend .p-left-m;
}

.page-header__subnav-link {
	@extend .t-decoration-none;
	@extend .t-white;
	@extend .t-s;
	@extend .l-inline-block;

	.icon {
		opacity: .3;
	}

	&:hover {
		@extend .t-light-blue;

		.icon {
			opacity: 1;
		}
	}
}

button.page-header__subnav-link {
	@extend .bg-transparent;
	@extend .border-none;
	cursor: pointer;
}

.page-header.mobile-is-open {
	@extend .bg-black;
	min-height: 100vh;
	@extend .m-bottom-0;

	// Hide all other page elements other than nav
	& + * {
		@extend .l-none;
	}

	.page-header__container {
		@extend .l-block;

		> * {
			@extend .l-block;
			@extend .m-top-0;
			@extend .m-x-auto;
			margin-bottom: 3em !important;
			@extend .p-0;
			@extend .t-center;
			@extend .w-100;

			> li {
				@extend .l-block;
				margin: 0 0 1.5rem !important;
			}
		}
	}

	.page-header__subnav {
		@extend .p-0;
	}

	.popover {
		@extend .l-pos-static;
		@extend .m-0;
		transform: translateX(0) translateY(-5px);
	}

	.popover.is-open {
		@extend .m-y-s;
		@extend .m-x-auto;
		transform: none !important;
	}
}

// Breakpoint Mixin!
@mixin page-header--responsive($bp) {
	@media (max-width: $bp - 1px) {
		.page-header__only-show-small {/* let stay default */ }
		.page-header__only-show-large { display: none !important; }
	}
	@media (min-width: $bp) {
		.page-header__only-show-small { display: none !important; }
		.page-header__only-show-large { /* let stay default */ }
	}
}

// Predefined breakpoints!
.page-header--responsive-s { @include page-header--responsive(600px) }
.page-header--responsive-m { @include page-header--responsive(900px) }
.page-header--responsive-l { @include page-header--responsive(1400px) }

// Custom breakpoints (write this within an app)
// .page-header { @include page-header--responsive(756px) }
